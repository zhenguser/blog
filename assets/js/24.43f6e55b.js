(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{240:function(e,r,t){"use strict";t.r(r);var a=t(19),s=Object(a.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"docker基本指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker基本指令"}},[e._v("#")]),e._v(" Docker基本指令")]),e._v(" "),t("h2",{attrs:{id:"基础操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基础操作"}},[e._v("#")]),e._v(" 基础操作")]),e._v(" "),t("p",[e._v("1 docker images 查看镜像信息列表 镜像是静态的")]),e._v(" "),t("p",[e._v("2 docker ps -a 查看运行中的所有容器")]),e._v(" "),t("p",[e._v("3 docker pull  [images]:[version]从dockerhub拉取指定镜像")]),e._v(" "),t("p",[e._v("4 docker run -p 8000:80 -tdi --privileged [imageID] [command]  后台启动docker,并指定宿主机端口和docker映射端口。")]),e._v(" "),t("p",[e._v("-i:以交互模式运行容器，通常与 -t 同时使用；")]),e._v(" "),t("p",[e._v("-d:后台运行容器，并返回容器ID；")]),e._v(" "),t("p",[e._v("-t:为容器重新分配一个伪输入终端，通常与 -i 同时使用；")]),e._v(" "),t("p",[e._v("--privileged 容器将拥有访问主机所有设备的权限")]),e._v(" "),t("p",[e._v("通常情况下 [command] 填下 /bin/bash 即可。")]),e._v(" "),t("p",[e._v("特殊情况下，如需要在centos镜像中使用systemctl . 则应添加--privileged 并设置[command ]为 init。")]),e._v(" "),t("p",[e._v("5 当镜像通过run 启动后，便会载入到一个动态的container(容器)中运行，此时若需要进入终端交互模式：")]),e._v(" "),t("p",[e._v("sudo docker exec -it [containerID] /bin/bash")]),e._v(" "),t("p",[e._v("交互模式中，使用  ctrl+p+q退出交互 保持运行,使用 exit命令退出并停止容器。")]),e._v(" "),t("p",[e._v("6 在容器非交互模式下，通过docker  start/stop 命令来启动/停止已部署的容器服务。")]),e._v(" "),t("p",[e._v("7 docker rm [containerID] 删除容器")]),e._v(" "),t("p",[e._v("8 docker rmi [imageID] 删除镜像")]),e._v(" "),t("p",[e._v("9 docker cp [YourHostFilePath] [containerID]:[DockerPath]  将宿主机内的指定文件传输至容器内部的指定地址。")]),e._v(" "),t("h2",{attrs:{id:"镜像制作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#镜像制作"}},[e._v("#")]),e._v(" 镜像制作")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("docker commit [containerID] [ImageName]:[Version] 将修改后的容器重新打包成镜像")])]),e._v(" "),t("li",[t("p",[e._v('docker commit -a "runoob.com" -m "my apache" a404c6c174a2 mymysql:v1 将容器a404c6c174a2 保存为新的镜像,并添加提交人信息和说明信息。')])])]),e._v(" "),t("p",[e._v("-a :提交的镜像作者；")]),e._v(" "),t("p",[e._v("-c :使用Dockerfile指令来创建镜像；")]),e._v(" "),t("p",[e._v("-m :提交时的说明文字；")]),e._v(" "),t("p",[e._v("-p :在commit时，将容器暂停。")]),e._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[e._v("docker push [ImageID] [repertory_address]提交镜像到云仓库")])]),e._v(" "),t("h2",{attrs:{id:"docker设置阿里云镜像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker设置阿里云镜像"}},[e._v("#")]),e._v(" Docker设置阿里云镜像")]),e._v(" "),t("ol",[t("li",[e._v("修改地址")])]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("vi /etc/docker/daemon.json\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[e._v("是重新加载文件和重启docker")])]),e._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("sudo systemctl daemon-reload//重新加载\nsudo systemctl restart docker//重启\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br")])])])}),[],!1,null,null,null);r.default=s.exports}}]);